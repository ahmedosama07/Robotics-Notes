### **7.1 Background: Relationship Between Joint Torques and End-Effector Forces**
The **Jacobian matrix $J$** relates **joint velocities** $\dot{\mathbf{q}}$ to **end-effector linear/angular velocities** $\dot{\mathbf{x}}$:
$$
\dot{\mathbf{x}} = J(\mathbf{q}) \dot{\mathbf{q}}
$$
By duality, the transpose of the Jacobian relates **forces/torques** at the end-effector $\mathbf{F}$ to the **joint torques** $\boldsymbol{\tau}$:
$$
\boldsymbol{\tau} = J^T(\mathbf{q}) \mathbf{F}
$$
Where:
- $\mathbf{F} = \begin{bmatrix} \mathbf{f} \\ \boldsymbol{\mu} \end{bmatrix} \in \mathbb{R}^6$ is the **wrench vector** composed of
    - $\mathbf{f}$: force vector at the end-effector (3D)
    - $\boldsymbol{\mu}$: moment (torque) vector at the end-effector (3D)
- $\boldsymbol{\tau} \in \mathbb{R}^n$ is the vector of joint torques/forces for an $n$-DOF manipulator
---
### **7.2 Derivation of Torque-Force Relation**
#### **Power Conservation Principle**
Power input at joints equals power output at end-effector:
$$
\boldsymbol{\tau}^T \dot{\mathbf{q}} = \mathbf{F}^T \dot{\mathbf{x}}
$$
Using $\dot{\mathbf{x}} = J \dot{\mathbf{q}}$, substitute:
$$
\boldsymbol{\tau}^T \dot{\mathbf{q}} = \mathbf{F}^T J \dot{\mathbf{q}}
$$
Since this holds for any $\dot{\mathbf{q}}$, it follows:
$$
\boldsymbol{\tau}^T = \mathbf{F}^T J \implies \boldsymbol{\tau} = J^T \mathbf{F}
$$
---
### **7.3 Interpretation**
- $J^T$ maps forces/torques from **task space** (end-effector) into **joint space** (actuator space).
- Enables computation of **required actuator torques** to balance or apply given external forces.
- Crucial for:
    - Static force analysis (holding payloads)
    - Force control strategies
    - Compliant control and interaction tasks
---
### **7.4 Example: Force Analysis for the 3-DOF RRP Manipulator**
Assume:
- External force at end-effector:
$$
\mathbf{f} = \begin{bmatrix} 10 \\ 5 \\ 0 \end{bmatrix} \text{ N}, \quad \boldsymbol{\mu} = \begin{bmatrix} 0 \\ 0 \\ 0 \end{bmatrix} \text{ Nm}
$$
- Joint configuration as before ($\theta_1 = 30\degree$, $\theta_2 = 45\degree$, $d_3 = 0.5\, \text{m}$)
Using previously computed Jacobian $J$, compute:
$$
\boldsymbol{\tau} = J^T \mathbf{F}
$$
where
$$
\mathbf{F} = \begin{bmatrix} 10 \\ 5 \\ 0 \\ 0 \\ 0 \\ 0 \end{bmatrix}
$$
This yields the torques $\tau_1$, $\tau_2$ and force $\tau_3$ (for prismatic joint).

---
### **7.5 Physical Insight**
- Torque $\tau_1$ and $\tau_2$ are moments generated by applying the force $\mathbf{f}$ at the lever arms defined by the Jacobian columns.
- Force $\tau_3$ corresponds to the force required along the prismatic joint to balance the applied external force.
- When the manipulator is near a singularity, required $\tau$ can become very large, reflecting the loss of mechanical advantage.
---
### **7.6 Examples**
#### **Example 7.1: Jacobian for a 2-DOF Planar RR Manipulator**
**Robot Setup:**
- Two revolute joints rotating about $z$-axes perpendicular to the plane.
- Link lengths: $l_1$, $l_2$.
- Joint angles: $\theta_1$, $\theta_2$.

**Forward Kinematics:**
Position of end-effector:
$$
x = l_1 \cos \theta_1 + l_2 \cos(\theta_1 + \theta_2)
$$$$
y = l_1 \sin \theta_1 + l_2 \sin(\theta_1 + \theta_2)
$$
**Jacobian Matrix:**
$$
J = \begin{bmatrix} -\ l_1 \sin \theta_1 - l_2 \sin(\theta_1 + \theta_2) & - l_2 \sin(\theta_1 + \theta_2) \\ l_1 \cos \theta_1 + l_2 \cos(\theta_1 + \theta_2) & l_2 \cos(\theta_1 + \theta_2) \end{bmatrix}
$$
#### **Example 7.2: Jacobian for a 3-DOF Spherical Manipulator (RRR)**
**Robot Setup:**
- Three revolute joints intersecting at a point (spherical wrist).
- All joints rotate about axes that intersect at a common origin.

**Jacobian Columns:**
For revolute joints about $\mathbf{z}_{i-1}$ axes and end-effector position $\mathbf{p}_n$:
$$
J_i = \begin{bmatrix} \mathbf{z}_{i-1} \times (\mathbf{p}_n - \mathbf{p}_{i-1}) \\ \mathbf{z}_{i-1} \end{bmatrix}
$$
But since all joint axes intersect at the same point:
- $\mathbf{p}_n = \mathbf{p}_1 = \mathbf{p}_2 = \mathbf{p}_0$
- The linear velocity parts are zero (no translation), only angular velocity terms remain:
$$
J = \begin{bmatrix} \mathbf{0} & \mathbf{0} & \mathbf{0} \\ \mathbf{z}_0 & \mathbf{z}_1 & \mathbf{z}_2 \end{bmatrix}
$$
